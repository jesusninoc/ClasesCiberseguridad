# 3. Seguridad L√≥gica

---------------
---------------
## Usuarios
* V√≠deo sobre c√≥mo instalar Cain & Abel https://www.youtube.com/watch?v=My_X6_Jbwp0
* V√≠deo sobre c√≥mo ver usuarios del Directorio Activo desde Cain & Abel https://www.youtube.com/watch?v=a4xPdwrnK_I
* Enlace para descargar Cain & Abel https://github.com/jesusninoc/Cain/tree/master
* Crear hashes NT4 https://www.jesusninoc.com/01/27/creacion-de-hashes-de-contrasena-nt4/
* Diccionario https://github.com/JorgeDuenasLerin/diccionario-espanol-txt/blob/master/0_palabras_todas.txt
---------------
---------------

La **seguridad l√≥gica** es el conjunto de medidas, controles y pol√≠ticas que protegen los sistemas inform√°ticos frente a accesos no autorizados, manipulaci√≥n de datos o p√©rdidas de informaci√≥n. A diferencia de la seguridad f√≠sica, que protege los equipos y dispositivos, la seguridad l√≥gica se centra en los mecanismos digitales y de software que garantizan la integridad, confidencialidad y disponibilidad de la informaci√≥n.

---

## d) Pol√≠ticas de almacenamiento

Las **pol√≠ticas de almacenamiento** determinan c√≥mo se guarda, clasifica y protege la informaci√≥n dentro de una organizaci√≥n.  
Sus objetivos son:
- Garantizar la **confidencialidad y disponibilidad** de los datos.
- Definir los **niveles de acceso** y el **ciclo de vida** de la informaci√≥n.
- Establecer procedimientos para el **borrado seguro** de datos sensibles.

Una buena pol√≠tica de almacenamiento asegura que los datos se gestionen de forma eficiente y conforme a las normativas de protecci√≥n de datos.

---

## e) Copias de seguridad e im√°genes de respaldo

Las **copias de seguridad** (backups) y las **im√°genes de respaldo** son medidas esenciales para la **recuperaci√≥n ante desastres**.  
Permiten restaurar el sistema o los datos en caso de fallos, ataques o errores humanos.  
Tipos comunes:
- **Copias completas:** guardan todos los datos.
- **Copias incrementales:** solo los cambios desde la √∫ltima copia.
- **Im√°genes de respaldo:** replican un sistema completo, incluyendo el sistema operativo y configuraciones.  

Es fundamental definir una **frecuencia de respaldo** y almacenar las copias en ubicaciones seguras, preferiblemente fuera del sitio principal o en la nube.

---

## f) Medios de almacenamiento

Los **medios de almacenamiento** son los dispositivos f√≠sicos o virtuales donde se guardan los datos.  
Ejemplos:
- Discos duros (HDD, SSD)
- Unidades √≥pticas (CD, DVD, Blu-Ray)
- Memorias USB
- Almacenamiento en red (NAS)
- Servicios de almacenamiento en la nube  

La elecci√≥n del medio depende del nivel de seguridad, capacidad, velocidad y durabilidad requeridos.  
Es importante **proteger f√≠sicamente** los medios y aplicar **cifrado** a los dispositivos port√°tiles para evitar fugas de informaci√≥n.

---

> La seguridad l√≥gica no es solo una cuesti√≥n t√©cnica, sino tambi√©n organizacional: requiere concienciaci√≥n, pol√≠ticas claras y una correcta gesti√≥n de los recursos tecnol√≥gicos.

--------------
--------------

# 4. An√°lisis forense en sistemas inform√°ticos

El **an√°lisis forense en sistemas inform√°ticos** es una disciplina especializada dentro de la seguridad inform√°tica dedicada a la **identificaci√≥n, preservaci√≥n, an√°lisis y presentaci√≥n de evidencias digitales** con validez legal.  
Su finalidad es reconstruir los hechos ocurridos durante un incidente de seguridad ‚Äîcomo accesos no autorizados, robo de informaci√≥n o sabotaje‚Äî de manera **objetiva, verificable y admisible** en un proceso judicial o interno.

---

## a) Aplicaci√≥n de metodolog√≠as de an√°lisis forenses

El proceso forense requiere la aplicaci√≥n de **metodolog√≠as rigurosas y estandarizadas** que garanticen la integridad de las evidencias y la trazabilidad de todas las acciones realizadas.  
Entre los marcos m√°s reconocidos se encuentran:

- **NIST (National Institute of Standards and Technology)**
- **DFRWS (Digital Forensic Research Workshop)**
- **ISO/IEC 27037, 27041 y 27042**

### Fases esenciales del an√°lisis forense

1. **Identificaci√≥n del incidente y planificaci√≥n**
   - Determinar el tipo de incidente, los sistemas implicados y el alcance.
   - Elaborar un plan de actuaci√≥n con objetivos, recursos y responsabilidades.
   - Asegurar la **cadena de custodia** desde el inicio.

2. **Preservaci√≥n y adquisici√≥n de evidencias**
   - Realizar copias **bit a bit** de los medios implicados.
   - Utilizar herramientas como `FTK Imager`, `dd`, `Guymager` o `EnCase`.
   - Verificar integridad mediante **hashes (MD5, SHA-1, SHA-256)**.

3. **An√°lisis t√©cnico**
   - Examen del sistema de archivos (recuperaci√≥n de datos borrados, metadatos, temporales).
   - An√°lisis de logs y tr√°fico de red.
   - Revisi√≥n de memoria RAM y procesos activos.
   - Detecci√≥n de *malware* y *rootkits*.
   - Correlaci√≥n temporal de eventos.

   **Herramientas comunes:**  
   `Autopsy / Sleuth Kit`, `Volatility`, `Wireshark`, `X-Ways Forensics`, `Magnet AXIOM`.

4. **Interpretaci√≥n y correlaci√≥n de evidencias**
   - Reconstruir los hechos y establecer secuencias cronol√≥gicas.
   - Determinar actores, acciones y vulnerabilidades explotadas.

5. **Presentaci√≥n y conservaci√≥n de resultados**
   - Elaborar informe t√©cnico estructurado.
   - Archivar evidencias bajo condiciones seguras y trazables.

> El rigor metodol√≥gico es esencial: cualquier alteraci√≥n o p√©rdida de datos puede invalidar las pruebas o comprometer la investigaci√≥n.

---

## b) Documentaci√≥n y elaboraci√≥n de informes de an√°lisis forenses

La **documentaci√≥n** en el an√°lisis forense garantiza la **reproducibilidad del proceso** y la **transparencia de los resultados**.  
Cada acci√≥n debe quedar registrada con fecha, hora, herramienta utilizada, versi√≥n del software y observaciones.

### Estructura del informe forense

1. **Portada y metadatos**
   - Identificaci√≥n del caso, analista responsable, fecha y n√∫mero de expediente.

2. **Resumen ejecutivo**
   - Principales hallazgos y conclusiones en lenguaje claro y no t√©cnico.

3. **Descripci√≥n del incidente y alcance**
   - Contexto, sistemas afectados, objetivos y limitaciones del an√°lisis.

4. **Metodolog√≠a empleada**
   - Procedimientos, herramientas y est√°ndares aplicados.

5. **An√°lisis t√©cnico y evidencias**
   - Resultados detallados con logs, capturas e identificadores hash.
   - Evidencias etiquetadas y referenciadas adecuadamente.

6. **Conclusiones y recomendaciones**
   - Hechos comprobados, causas identificadas y medidas correctivas.

7. **Anexos y cadena de custodia**
   - Formularios, listados de hashes, im√°genes forenses y registros de custodia.

> El informe debe ser **objetivo, preciso y verificable**, evitando opiniones personales.  
> Su prop√≥sito es documentar hechos y proporcionar una base s√≥lida para decisiones t√©cnicas o legales.

---

## Conclusi√≥n

El an√°lisis forense digital combina **conocimiento t√©cnico, metodolog√≠a cient√≠fica y rigor documental**.  
Su correcta aplicaci√≥n permite no solo identificar las causas de un incidente, sino tambi√©n **aportar pruebas v√°lidas y reproducibles** ante cualquier proceso de auditor√≠a o tribunal.

---

### Referencias normativas y gu√≠as recomendadas

- NIST SP 800-86: *Guide to Integrating Forensic Techniques into Incident Response*  
- ISO/IEC 27037: *Directrices para la identificaci√≥n, recolecci√≥n y preservaci√≥n de evidencia digital*  
- ISO/IEC 27042: *An√°lisis e interpretaci√≥n de la evidencia digital*  
- DFRWS Digital Forensics Framework  
- ENISA Guidelines for Digital Forensics

---

## Enlaces
* https://www.incibe.es/ed2026/talento-hacker/academia-hacker/retosdescargables
* https://dnspy.org/
* https://gchq.github.io/CyberChef/
* https://www.youtube.com/watch?v=cIESBxd5SU4

-----------
-----------

# 5. Implantaci√≥n de Mecanismos de Seguridad Activa üõ°Ô∏è

La **Seguridad Activa** se refiere a las medidas proactivas destinadas a **prevenir, detectar y dificultar** que los incidentes de seguridad se materialicen, protegiendo as√≠ la **integridad**, **confidencialidad** y **disponibilidad** de los sistemas.

---

## a) Ataques y Contramedidas en Sistemas Personales

| **Ataque Com√∫n** | **Descripci√≥n Detallada** | **Contramedida (Mecanismo Activo)** |
|------------------|---------------------------|-------------------------------------|
| **Malware (Virus, Gusanos, Troyanos)** | Software malicioso dise√±ado para da√±ar, obtener acceso o interrumpir el funcionamiento del sistema. | Antivirus/Antimalware (protecci√≥n en tiempo real y escaneos peri√≥dicos). **Firewall** (bloqueo de comunicaciones no autorizadas). |
| **Ransomware** | Tipo de malware que cifra los archivos de la v√≠ctima y exige un rescate para liberarlos. | **Backups** frecuentes y externos (regla 3-2-1). Actualizaci√≥n constante de software. |
| **Phishing / Ingenier√≠a Social** | Fraude por suplantaci√≥n de identidad para que el usuario revele informaci√≥n sensible (contrase√±as, datos financieros). | **Concienciaci√≥n del usuario**, filtros de correo electr√≥nico, verificaci√≥n estricta de la URL y del remitente. |
| **Man-in-the-Middle (MITM)** | Interceptaci√≥n de la comunicaci√≥n entre dos partes para robar o modificar datos (com√∫n en redes Wi-Fi p√∫blicas). | Uso de **VPN** (Red Privada Virtual) para cifrar el tr√°fico. Asegurar que las p√°ginas utilicen **HTTPS**. |
| **Ataque de Fuerza Bruta** | Intentos automatizados de adivinar contrase√±as hasta dar con la correcta. | Uso de **Contrase√±as Robustas**, **Autenticaci√≥n Multifactor (MFA)** y pol√≠ticas de bloqueo tras fallos. |
| **Zero-Day Exploit** | Ataque que aprovecha una vulnerabilidad de software desconocida por el fabricante. | **IDS** (Sistemas de Detecci√≥n de Intrusos) basados en comportamiento. Uso de software de alta reputaci√≥n y an√°lisis heur√≠stico. |

---

## b) Clasificaci√≥n de los Ataques

### Clasificaci√≥n por Objetivo (Impacto en la CIA)

| **Tipo** | **Descripci√≥n** | **Ejemplo** |
|-----------|----------------|--------------|
| **Interrupci√≥n (Disruption)** | Impide el acceso o uso normal del sistema o servicio. | Ataque de **Denegaci√≥n de Servicio (DoS/DDoS)**. |
| **Intercepci√≥n (Interception)** | Acceso no autorizado a la informaci√≥n. | **Sniffing** de red, **Eavesdropping**. |
| **Modificaci√≥n (Modification)** | Alteraci√≥n no autorizada de datos o configuraciones. | **Inyecci√≥n SQL**, **Web Defacement**. |
| **Fabricaci√≥n (Fabrication)** | Creaci√≥n de objetos o datos falsos. | **Inserci√≥n de registros falsos**, **Pharming**. |

### Clasificaci√≥n por M√©todo

| **Categor√≠a** | **Descripci√≥n** |
|----------------|----------------|
| **Malware** | Utilizan software malicioso (virus, troyanos, spyware). |
| **Ingenier√≠a Social** | Se basan en la manipulaci√≥n psicol√≥gica del usuario (phishing, vishing, baiting). |
| **Red/Protocolo** | Explotan debilidades en protocolos de comunicaci√≥n o infraestructura de red (port scanning, MITM). |
| **Aplicaciones Web** | Dirigidos a vulnerabilidades en el c√≥digo de las aplicaciones (SQL injection, XSS). |

---

## c) Anatom√≠a de Ataques y An√°lisis de Software Malicioso

### Anatom√≠a de un Ciberataque (Cyber Kill Chain)

Un ataque persistente avanzado sigue una secuencia conocida como **Cadena de Muerte**:

1. **Reconocimiento:** Recolecci√≥n de informaci√≥n sobre el objetivo (IPs, empleados, tecnolog√≠as usadas).
2. **Armamento:** Creaci√≥n o selecci√≥n de un exploit y payload (c√≥digo malicioso).
3. **Entrega (Delivery):** Transmisi√≥n del arma al objetivo (email, USB, sitio web).
4. **Explotaci√≥n:** Ejecuci√≥n del exploit para ganar acceso al sistema.
5. **Instalaci√≥n:** Establecimiento de persistencia (backdoor, modificaci√≥n del registro).
6. **Comando y Control (C2):** Comunicaci√≥n del malware con el servidor del atacante.
7. **Acciones sobre el Objetivo:** Ejecuci√≥n del prop√≥sito final (robo de datos, cifrado, da√±o).

### An√°lisis de Software Malicioso (Malware Analysis)

**Objetivo:** comprender el funcionamiento, origen y prop√≥sito de un c√≥digo malicioso.

**An√°lisis Est√°tico:**
- Examen del c√≥digo binario sin ejecutarlo.
- Revisi√≥n de:
  - **Hashes:** para identificar malware conocido.
  - **Cadenas de texto:** b√∫squeda de URLs, nombres de archivos o claves de registro.
  - **Metadatos:** informaci√≥n del compilador, fecha y funciones importadas.

**An√°lisis Din√°mico:**
- Ejecuci√≥n del malware en un entorno **aislado (sandbox)**.
- Observaci√≥n del comportamiento:
  - **Monitoreo de red:** detecci√≥n de llamadas C2 o intentos de propagaci√≥n.
  - **Monitoreo del sistema:** registro de cambios en archivos, registro y llamadas API.

---

## d) Herramientas Preventivas: Instalaci√≥n y Configuraci√≥n

| **Herramienta** | **Instalaci√≥n y Configuraci√≥n** | **Pr√°ctica Clave** |
|------------------|----------------------------------|--------------------|
| **Firewall (Cortafuegos)** | Habilitar el firewall del sistema o instalar uno dedicado. Configurar para bloquear tr√°fico entrante por defecto. | **Filtrado de paquetes:** definir reglas por puertos e IPs. |
| **Antivirus/Antimalware** | Instalar soluci√≥n reputada (Microsoft Defender, Bitdefender). Escaneo en tiempo real y semanal. | **Actualizaci√≥n de firmas** autom√°tica. |
| **IDS/IPS** | Configurar herramientas como **Snort** o **Suricata** para monitorizar tr√°fico. | **Monitoreo de anomal√≠as** y bloqueo autom√°tico (si IPS). |
| **Parches / Actualizaciones** | Activar actualizaciones autom√°ticas del sistema y software cr√≠tico. | **Gesti√≥n de vulnerabilidades:** reducir la ventana de exposici√≥n. |
| **Autenticaci√≥n Multifactor (MFA)** | Habilitar 2FA/MFA en cuentas sensibles, preferiblemente por app y no por SMS. | **Capa adicional de seguridad** frente a robo de contrase√±as. |

---

## e) Herramientas Paliativas: Instalaci√≥n y Configuraci√≥n

Estas herramientas se orientan a la **recuperaci√≥n y mitigaci√≥n del da√±o** tras un incidente.

| **Herramienta** | **Instalaci√≥n y Configuraci√≥n** | **Pr√°ctica Clave** |
|------------------|----------------------------------|--------------------|
| **Software de Backup** | Configurar copias de seguridad autom√°ticas con soluciones locales o en la nube. | **Regla 3-2-1:** 3 copias, 2 formatos, 1 fuera de la red. |
| **Herramientas de Cifrado** | Cifrado completo del disco o de archivos (BitLocker, FileVault, VeraCrypt). | **Confidencialidad de datos:** ilegibles sin clave. |
| **An√°lisis Forense** | Uso de **Wireshark** u otras herramientas de respuesta a incidentes. | **Respuesta a incidentes:** determinar alcance y causa ra√≠z. |

---

## f) Actualizaci√≥n de Sistemas y Aplicaciones

**Importancia:** las actualizaciones corrigen vulnerabilidades que los atacantes podr√≠an explotar.

**Protocolo de Actualizaci√≥n:**
- **Activar actualizaciones autom√°ticas** del S.O. y software esencial.
- **Parchear software de terceros** (navegadores, plugins, lectores PDF).
- **Desinstalar software obsoleto** sin soporte o sin uso.
- **Estrategia clave:** reducir la *ventana de vulnerabilidad* (tiempo entre el lanzamiento del parche y su instalaci√≥n).

---

## g) Seguridad en la Conexi√≥n con Redes P√∫blicas

Las redes Wi-Fi p√∫blicas son entornos **no confiables** y requieren precauciones:

- **Uso obligatorio de VPN:** cifrar el tr√°fico para evitar ataques MITM.  
- **Verificaci√≥n de red:** evitar redes con nombres sospechosos o abiertas.  
- **Firewall restrictivo:** usar perfil de ‚ÄúRed P√∫blica‚Äù con m√°xima limitaci√≥n.  
- **Desactivar compartici√≥n:** impedir la compartici√≥n de archivos e impresoras.  

---

## h) Pautas y Pr√°cticas Seguras

La **conciencia y disciplina del usuario** constituyen la principal defensa activa.

- **Principio del M√≠nimo Privilegio (PoLP):** usar cuentas est√°ndar y elevar permisos solo cuando sea necesario.  
- **Gesti√≥n centralizada de contrase√±as:** emplear gestores seguros con contrase√±as √∫nicas.  
- **Cuidado con dispositivos externos:** evitar conectar USB o discos de origen desconocido.  
- **Verificaci√≥n de enlaces y descargas:** revisar URLs y descargar solo desde sitios oficiales.  
- **Cierre de sesiones activas:** cerrar sesiones en servicios sensibles, sobre todo en equipos compartidos.  

-----------
-----------



-----------
-----------



-----------
-----------



-----------
-----------
